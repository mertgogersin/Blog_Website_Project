
@inject IHttpContextAccessor HttpContextAccessor
<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>@ViewBag.Title</title>


    <script src="~/jquery/jquery.js"></script>
    <script src="~/jquery-validate/jquery.validate.min.js"></script>
    <script src="~/bootstrap/js/bootstrap.min.js"></script>
    <link href="~/bootstrap/css/bootstrap.css" rel="stylesheet" />


   <style>
       .dropdown:hover .dropdown-menu {
           display: block;
       }

       .nav-tabs .dropdown-menu, .dropdown-menu, .navbar .dropdown-menu {
           margin-top: 0;
       }    
   </style>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light shadow p-3 mb-5 bg-white rounded">
        <div class="container">
            @if (HttpContextAccessor.HttpContext.Session.GetString("FullName") != null)
            {
                <a class="navbar-brand fw-bold fs-2" asp-controller="User" asp-action="UserHomePage">
                    <svg style="position:relative;bottom:2px;" width="45px" height="45px" viewBox="0 0 256 146" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" preserveAspectRatio="xMidYMid">
                        <g>
                            <path d="M72.2009141,1.42108547e-14 C112.076502,1.42108547e-14 144.399375,32.5485469 144.399375,72.6964154 C144.399375,112.844284 112.074049,145.390378 72.2009141,145.390378 C32.327779,145.390378 0,112.844284 0,72.6964154 C0,32.5485469 32.325326,1.42108547e-14 72.2009141,1.42108547e-14 Z M187.500628,4.25836743 C207.438422,4.25836743 223.601085,34.8960455 223.601085,72.6964154 L223.603538,72.6964154 C223.603538,110.486973 207.440875,141.134463 187.503081,141.134463 C167.565287,141.134463 151.402624,110.486973 151.402624,72.6964154 C151.402624,34.9058574 167.562834,4.25836743 187.500628,4.25836743 Z M243.303393,11.3867175 C250.314,11.3867175 256,38.835526 256,72.6964154 C256,106.547493 250.316453,134.006113 243.303393,134.006113 C236.290333,134.006113 230.609239,106.554852 230.609239,72.6964154 C230.609239,38.837979 236.292786,11.3867175 243.303393,11.3867175 Z" fill="#000000"></path>
                        </g>
                    </svg>
                    <span>My Blog Site</span>
                </a>
            }
            else
            {

                <a class="navbar-brand fw-bold fs-2" asp-controller="Home" asp-action="GeneralHomePage">
                    <svg style="position:relative;bottom:2px;" width="45px" height="45px" viewBox="0 0 256 146" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" preserveAspectRatio="xMidYMid">
                        <g>
                            <path d="M72.2009141,1.42108547e-14 C112.076502,1.42108547e-14 144.399375,32.5485469 144.399375,72.6964154 C144.399375,112.844284 112.074049,145.390378 72.2009141,145.390378 C32.327779,145.390378 0,112.844284 0,72.6964154 C0,32.5485469 32.325326,1.42108547e-14 72.2009141,1.42108547e-14 Z M187.500628,4.25836743 C207.438422,4.25836743 223.601085,34.8960455 223.601085,72.6964154 L223.603538,72.6964154 C223.603538,110.486973 207.440875,141.134463 187.503081,141.134463 C167.565287,141.134463 151.402624,110.486973 151.402624,72.6964154 C151.402624,34.9058574 167.562834,4.25836743 187.500628,4.25836743 Z M243.303393,11.3867175 C250.314,11.3867175 256,38.835526 256,72.6964154 C256,106.547493 250.316453,134.006113 243.303393,134.006113 C236.290333,134.006113 230.609239,106.554852 230.609239,72.6964154 C230.609239,38.837979 236.292786,11.3867175 243.303393,11.3867175 Z" fill="#000000"></path>
                        </g>
                    </svg>
                    <span>My Blog Site</span>
                </a>
            }
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto" id="tabs">

                    @if (HttpContextAccessor.HttpContext.Session.GetString("FullName") == null)
                    {
                        <li class="nav-item">
                            <a asp-controller="About" asp-action="About" class="btn btn-primary btn-sm btn btn-dark mx-sm-1 my-1">About Us</a>
                        </li>
                        <li class="nav-item">
                            <a asp-controller="User" asp-action="Login" class="btn btn-primary btn-sm btn btn-dark mx-sm-1 my-1">Sign In</a>
                        </li>
                        <li class="nav-item">
                            <button type="button" class="btn btn-primary btn-sm btn btn-dark my-1 mx-sm-1" data-target="#loginModal" data-toggle="modal" id="getStarted">Get Started</button>
                            <div class="modal" id="loginModal" tabindex="-1">
                                <div class="modal-dialog">
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <h4 class="modal-title">Get Started</h4>
                                            <button class="btn-close" data-dismiss="modal"></button>
                                        </div>
                                        <div class="modal-body" id="modalPartial">
                                            
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </li>
                    }
                    else
                    {
                        <li class="nav-item dropdown">
                            <a class=" dropdown-toggle btn btn-primary btn-sm btn btn-dark mx-sm-1 my-1"  id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                @HttpContextAccessor.HttpContext.Session.GetString("FullName")
                            </a>
                            <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                                <a class="dropdown-item" href=@("/Member/"+HttpContextAccessor.HttpContext.Session.GetString("url"))>My Profile</a>
                                <a class="dropdown-item" href=@("/Article/UserArticlesPage/"+HttpContextAccessor.HttpContext.Session.GetString("url"))>My Articles</a>
                                
                            </div>
                        </li>
                   
                        <li class="nav-item">
                            <a asp-controller="About" asp-action="About" class="btn btn-primary btn-sm btn btn-dark mx-sm-1 my-1">About Us</a>
                        </li>
                        <li class="nav-item">
                            <a asp-controller="User" asp-action="LogOut" class="btn btn-primary btn-sm btn btn-dark mx-sm-1 my-1">Log Out</a>
                        </li>
                    }
                </ul>
            </div>

        </div>

    </nav>
    @if (ViewBag.Message != null)
    {
        <div class="modal" id="alert" tabindex="-1" role="dialog">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">Information</h5>
                        <button class="btn-close" data-dismiss="modal"></button>
                    </div>
                    <div class="modal-body">
                        <span class="text-warning text-center">@ViewBag.Message</span>
                    </div>
                </div>
            </div>
        </div>

    }
    <div>
        @RenderBody()
    </div>
    
</body>
</html>
<script src="~/CustomScripts/LayoutModal.js"></script>
